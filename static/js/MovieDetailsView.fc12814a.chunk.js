(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{32:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return v}));var c=n(36),i=n.n(c),a=n(37),r="https://api.themoviedb.org/3",o="37ddbc320f48fcbb375faaee253d2760";function s(){return l.apply(this,arguments)}function l(){return l=Object(a.a)(i.a.mark((function e(){var t,n,c,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(c=e.sent).ok){e.next=11;break}return e.next=8,c.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(console.log("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function u(){return s("".concat(r,"/trending/movie/day?api_key=").concat(o))}function d(e){var t=e.movieId;return s("".concat(r,"/movie/").concat(t,"?api_key=").concat(o,"&language=en-US&page=1"))}function j(e){var t=e.movieId;return s("".concat(r,"/movie/").concat(t,"/credits?api_key=").concat(o))}function b(e){var t=e.movieId;return s("".concat(r,"/movie/").concat(t,"/reviews?api_key=").concat(o))}function v(e){var t=e.searchQuery;return s("".concat(r,"/search/movie?api_key=").concat(o,"&query=").concat(t,"&page=1&include_adult=false"))}},34:function(e,t,n){"use strict";var c=n(35),i=n.n(c),a=n(1);t.a=function(e){var t=e.title,n=e.children;return Object(a.jsxs)("div",{className:i.a.container,children:[Object(a.jsxs)("h2",{children:[" ",t]}),n]})}},35:function(e,t,n){e.exports={container:"Container_container__2Mr8N"}},38:function(e,t,n){"use strict";var c=n(42),i=n.n(c),a=n(1);t.a=function(e){var t=e.onClick,n=e.children,c=e.type;return Object(a.jsx)("button",{type:c||"button",className:i.a.button,onClick:t,children:n})}},42:function(e,t,n){e.exports={button:"Button_button__GITcU"}},43:function(e,t,n){"use strict";t.a=n.p+"static/media/defaultImg.337d8096.png"},47:function(e,t,n){e.exports={containerMovie:"MovieDetailsView_containerMovie__3UVIM",description:"MovieDetailsView_description__nbgEa",link:"MovieDetailsView_link__2eZww",activeLink:"MovieDetailsView_activeLink__W7R7A",information:"MovieDetailsView_information__nKVy2"}},54:function(e,t,n){"use strict";n.r(t);var c=n(33),i=n(0),a=n(2),r=n(8),o=n(34),s=n(38),l=n(48),u=n(32),d=n(43),j=n(47),b=n.n(j),v=n(1),h=Object(i.lazy)((function(){return n.e(1).then(n.bind(null,49))})),f=Object(i.lazy)((function(){return n.e(5).then(n.bind(null,51))}));t.default=function(){var e=Object(i.useState)(null),t=Object(c.a)(e,2),n=t[0],j=t[1],p=Object(i.useState)("idle"),m=Object(c.a)(p,2),O=m[0],x=m[1],_=Object(a.i)(),g=_.url,w=_.path,k=Object(a.h)().movieId,y=Object(a.g)(),N=Object(a.f)();if(Object(i.useEffect)((function(){return x("pending"),k!==[]&&u.a({movieId:k}).then((function(e){return j(e),x("resolved")})).catch((function(e){return console.warn(e)})),x("rejected")}),[k]),Object(i.useEffect)((function(){window.localStorage.setItem("urlFrom",JSON.stringify(y.state.from.pathname))}),[]),"resolved"===O){var I=n.poster_path?"http://image.tmdb.org/t/p/w200".concat(n.poster_path):d.a,M=10*n.vote_average,S=n.release_date.slice(0,4)||"19..",C=n.genres.map((function(e){return e.name})).join("  ");return Object(v.jsxs)(o.a,{children:[Object(v.jsx)(s.a,{onClick:function(){var e,t;y.state?N.push(JSON.parse(window.localStorage.getItem("urlFrom"))):N.push(null!==(e=null===y||void 0===y||null===(t=y.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")},children:Object(v.jsx)(l.a,{})}),Object(v.jsxs)("div",{className:b.a.containerMovie,children:[Object(v.jsx)("img",{src:I,display:"inline-block",alt:n.title}),Object(v.jsxs)("div",{className:b.a.description,children:[Object(v.jsx)("h2",{children:n.original_title}),Object(v.jsxs)("span",{children:["(",S,")"]}),Object(v.jsxs)("p",{children:["User score",Object(v.jsxs)("span",{children:[" ",M," %"]})]}),Object(v.jsx)("h4",{children:"Overview"}),Object(v.jsxs)("span",{children:[" ",n.overview]}),Object(v.jsx)("h4",{children:"Genres"}),Object(v.jsx)("p",{children:C})]})]}),Object(v.jsxs)("div",{className:b.a.information,children:[Object(v.jsx)("p",{children:"Additional information"}),Object(v.jsx)(r.b,{to:{pathname:"".concat(g,"/cast"),state:{from:y}},className:b.a.link,activeClassName:b.a.activeLink,children:"Cast"}),Object(v.jsx)(r.b,{to:{pathname:"".concat(g,"/reviews"),state:{from:y}},className:b.a.link,activeClassName:b.a.activeLink,children:"Reviews"}),Object(v.jsx)(i.Suspense,{fallback:Object(v.jsx)("div",{children:"Loading....."}),children:Object(v.jsxs)(a.c,{children:[Object(v.jsx)(a.a,{path:"".concat(w,"/cast"),children:Object(v.jsx)(h,{})}),Object(v.jsx)(a.a,{path:"".concat(w,"/reviews"),children:Object(v.jsx)(f,{})})]})})]})]})}return Object(v.jsx)("p",{children:"Please, wait"})}}}]);
//# sourceMappingURL=MovieDetailsView.fc12814a.chunk.js.map